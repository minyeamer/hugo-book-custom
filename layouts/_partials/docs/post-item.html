<article class="post-item">

  <div class="post-meta">
    <time datetime="{{ .Date.Format "2006-01-02" }}">
      {{ .Date.Format "2006년 01월 02일" }}
    </time>
    {{ if .Params.categories }}
    <div class="post-categories">
      {{ $parentCategory := partial "categories/value-first" .Params.categories }}
      {{- if $parentCategory -}}
        <a href="{{ "/categories/" | relURL }}{{ $parentCategory | urlize }}/" class="category">
          <i class="fa-solid fa-folder"></i> {{ $parentCategory }}
        </a>

        {{ $childCategory := partial "categories/value-second" .Params.categories }}
        {{- if $childCategory -}}
        <a href="{{ "/categories/" | relURL }}{{ $parentCategory | urlize }}/{{ $childCategory | urlize }}/" class="category">
        <i class="fa-solid fa-file"></i> {{ $childCategory }}
        </a>
        {{- end -}}
      {{- end -}}
    </div>
    {{ end }}
  </div>

  {{ $coverImage := cond .Params.thumbnail .Params.thumbnail .Params.cover }}

  <div class="post-content-area{{ if $coverImage }} has-cover{{ end }}">
    {{ with cond .Params.cover .Params.cover .Params.thumbnail }}
    <div class="post-cover-mobile">
      <img src="{{ . | absURL }}" alt="Cover Image" class="post-cover-mobile-img">
    </div>
    {{ end }}
    
    <div class="post-text-area">
      <h2 class="post-title">
        <a href="{{ .RelPermalink }}">{{ .Title }}</a>
      </h2>

      {{- $summary := cond .Description .Description (cond .Summary .Summary "") -}}
      {{ if $summary }}
      <div class="post-summary">
        {{ $summary | plainify | truncate 148 }}
      </div>
      {{ end }}

      {{ if .Params.tags }}
      <div class="post-tags">
        {{ range first 5 .Params.tags }}
        <a href="{{ "/tags/" | relURL }}{{ . | urlize }}/" class="tag">#{{ . }}</a>
        {{ end }}
      </div>
      {{ end }}
    </div>

    {{ if $coverImage }}
    <div class="post-cover">
      <img src="{{ $coverImage | absURL }}" alt="Cover Image" class="post-cover-img">
    </div>
    {{ end }}
  </div>

</article>